***************Итоговая работа по курсу Инженер данных.*****************
Тема: Проект № 2.
Анализ рынка валют
Общая задача: создать ETL-процесс формирования витрин данных для анализа изменений курса валют.
Подробное описание задачи:
Разработать скрипты загрузки данных в 2-х режимах:
o   Инициализирующий – загрузка полного слепка данных источника
o   Инкрементальный – загрузка дельты данных за прошедшие сутки

Организовать правильную структуру хранения данных
o   Сырой слой данных
o   Промежуточный слой
o   Слой витрин

В качестве результата работы программного продукта необходимо написать скрипт, который формирует витрину данных следующего содержания:

Суррогатный ключ категории
Название валюты
Суммарный объем торгов за последние сутки
Курс валюты на момент открытия торгов для данных суток
Курс валюты на момент закрытия торгов для данных суток
Разница(в %) курса с момента открытия до момента закрытия торгов для данных суток
Минимальный временной интервал, на котором был зафиксирован самый крупный объем торгов для данных суток
Минимальный временной интервал, на котором был зафиксирован максимальный курс для данных суток
**************************************************
Используемый стек:
pandas   - работа с данным
requests  - запросы данных с сервера
alpha_vantage - работа с API сервера акции/валют
 
Проект реализован набором последовательно выполняемых скриптов, осуществляющих заргрузку, валидацию, обработку и обогащение данных.
Запуск необходимо осуществлять в соответствии с порядком, заданным в crontab.txt проекта и с выдерживанием необходимых для работы скрипта временными интервалов.
Предусмотрена возможность изменения конфигурации работы скриптов в соответствующих файлах конфигурации (../cfg/).
Возможно изменение следующих параметров:
<apiKey> - ключ подключения к серверу https://www.alphavantage.co/  для получения данных с сервера
<interval> - необходимый временной интервал для выгрузки, возможные значения 5м/10м/15м
<symbols>  - список тикетов (сокращенных названий акции) для выгрузки

Так же, помимо вышеописанных паратеров, которые являются общими для всех скриптов, имеются спецефические, связанные с работой конкретного скрипта:
<slice>  указывает временной интервал выгрузки данных
<indics>  список индикаторов для выгрузки.

**************************************************
Используемые файлы конфигурации:
../module/everyday_load.py-> ../cfg/config_everyday.xml 
../module/enrich.py->  ../cfg/config_extended.xml 
../module/history_load.py->   ../cfg/config_history.xml 

**************************************************
Последовательность работы:

1) history_load.py осуществляет историческую загрузку. Должен выполняться вручную один раз. Глубину истории и список тикетов указать в соответсвующем конфигурационном файле. На выходе сохраняет данные в файле ../data/history.csv   
2) everyday_load.py осуществляет ежедневную загрузку сырых данных. Должен выполняться по расписанию  один раз в сутки с учетом рабочего календаря биржи. Параметры и список тикетов указать в соответсвующем конфигурационном файле. На выходе сохраняет данные в файле ../data/everyday.csv    
3) Quality_test.py  осуществляет проверку и корректировку сырых данных. Должен выполняться по расписанию  один раз в сутки после окончания работы скрипта everyday_load.py.  Забирает данные из  ../data/everyday.csv  и выгружает провалидированные в everyday_valid.csv 
4) process.py  формирует итоговуй витрину в виде csv файла, содержищую все необходимые по условиям задачи данные. Забирает данные из  ../data/everyday_valid.csv, агрегирует и выгружает  в everyday_dashboard.csv 
5) enrich.py   обогащает  данные готовой витрины индикаторами, помогающим аналитикам в работе. Забирает данные из  ../data/everyday_dashboard.csv , обогащает и выгружает  в everyday_dashboard_enrich.csv 

**************************************************
Расширение функционала:

Для анализа рынка акции довольно часто используется набор индикаторов для оценки изменения цены акции на продолжительном временном интервале.
В качестве дополнительного функционала решено было добавить расчетные индикаторы ( SMA,STOCHF,MACDEXT) для облегчения работы аналитиков.
Можно выбрать любые индикаторы, предоставляемые стандартным API Advantage (https://www.alphavantage.co/documentation/#technical-indicators)
Индикаторы добавляются в готовую витрину в виде дополнительных столбцов и выгружается в новую витрину everyday_dashboard_enrich.csv .




